Yii 实现了模型-视图-控制器 (MVC)设计模式。 models 目录包含了所有模型类， views 目录包含了所有视图脚本， controllers 目录包含了所有控制器类。

每个应用都有一个入口脚本 web/index.php，这是整个应用中唯一可以访问的 PHP 脚本。 入口脚本接受一个 Web 请求并创建`应用`实例去处理它。 应用在它的`组件`辅助下解析请求， 并分派请求至 MVC 元素。视图使用小部件 去创建复杂和动态的用户界面。

#### 请求生命周期
![[Pasted image 20250410182210.png]]
- 1. 用户向入口脚本 web/index.php 发起请求。
- 2. 入口脚本加载应用配置并创建一个应用 实例去处理请求。
- 3. 应用通过`请求组件`解析请求的 路由。
- 4. 应用创建一个`控制器实例`去处理请求。（一个类）
- 5. 控制器创建一个`动作实例`并针对操作执行过滤器。
- 6. 如果任何一个`过滤器`返回失败，则动作取消。
- 7. 如果所有过滤器都通过，动作将被执行。
- 8. 动作会`加载`一个`数据模型`，或许是来自数据库。
- 9. 动作会`渲染`一个`视图`，把数据模型提供给它。
- 10. 渲染结果返回给`响应组件`。
- 11. 响应组件发送渲染结果给用户浏览器。

#### 大数据节省内存的方法
查询时把对象转换为数组
使用循环，分批查询1000条数据，把没批次查到的数据压入一个大数组